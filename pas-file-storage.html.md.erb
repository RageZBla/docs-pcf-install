---
title: Configuring File Storage for PAS
owner: Releng
gcswarning: The Pivotal Application Service for Windows (PASW) tile is incompatible with Google Cloud Platform
 (GCP) configured with a Google Cloud Storage (GCS) filestore. If you are deploying PASW in your GCP
  environment, Pivotal recommends that you select the S3-compatible filestore for your environment.
---

This topic provides instructions for configuring file storage for PAS based on your IaaS and installation method. See the section that applies to your use case.

To minimize system downtime, Pivotal recommends using highly resilient and redundant _external_ filestores for
your Pivotal Application Service (PAS) file storage. For more factors to consider when selecting file storage,
see [Considerations for Selecting File Storage in Pivotal Cloud Foundry](../upgrading/configuring.html#file-storage).


## <a id="internal"></a> Internal File Storage

<%= partial 'filestore_internal' %>

## <a id="aws"></a> AWS

This section describes how to configure file storage for AWS.

<p class="note"><strong>Note:</strong> If you followed the instructions in <a href="../om/aws/prepare-env-manual.html">Installing PCF on AWS Manually</a>, you created the necessary resources for external S3-compatible file storage.</p>

For production-level PCF deployments on AWS, Pivotal recommends selecting the **External S3-Compatible File Store**. For more information about production-level PCF deployments on AWS, see the [Reference Architecture for Pivotal Cloud Foundry on AWS](../refarch/aws/aws_ref_arch.html).


<%= partial(:"filestore_s3_config", :locals => { :aws => true }) %>

## <a id="azure"></a> Azure

This section describes how to configure file storage for Azure.

For production-level PCF deployments on Azure, the recommended selection is Azure Storage. For more information about production-level PCF deployments on Azure, see the [Reference Architecture for Pivotal Cloud Foundry on Azure](../refarch/azure/azure_ref_arch.html).

For more factors to consider when selecting file storage, see <a href="../upgrading/configuring.html#file-storage">Considerations for Selecting File Storage in Pivotal Cloud Foundry</a>.


<%= partial 'filestore_azure_config' %>

## <a id="gcp"></a> GCP

This section describes how to configure file storage for GCP. Follow the instructions that correspond to your installation method: [Manual](#gcp-manual) or [Terraform](#gcp-terraform).

For production-level PCF deployments on GCP, Pivotal recommends selecting **External Google Cloud Storage**.
For more information about production-level PCF deployments on GCP, see the [Reference Architecture for Pivotal Cloud Foundry on GCP](../refarch/gcp/gcp_ref_arch.html).

### <a id="gcp-manual"></a> Manual

This section describes how to configure file storage for GCP if you installed PCF manually.

<%= partial 'filestore_gcp_config' %>

### <a id="gcp-terraform"></a> Terraform

This section describes how to configure file storage for GCP if you installed PCF with Terraform.

<%= partial 'filestore_gcp_config_terraform' %>

## <a id="openstack"></a> Openstack

For production-level PCF deployments on OpenStack, the recommended selection is **External S3-Compatible**.

For more factors to consider when selecting file storage, see <a href="../upgrading/configuring.html#file-storage">Considerations for Selecting File Storage in Pivotal Cloud Foundry</a>.


<%= partial(:"filestore_s3_config", :locals => { :aws => false }) %>

## <a id="vsphere"></a> vSphere

For production-level PCF deployments on vSphere, the recommended selection is **External S3-Compatible** and the use of an external filestore. For more information about production-level PCF deployments on vSphere, see the [Reference Architecture for Pivotal Cloud Foundry on vSphere](../refarch/vsphere/vsphere_ref_arch.html).

For more factors to consider when selecting file storage, see [Considerations for Selecting File Storage in Pivotal Cloud Foundry](../upgrading/configuring.html#file-storage).


<%= partial(:"filestore_s3_config", :locals => { :aws => false }) %>
